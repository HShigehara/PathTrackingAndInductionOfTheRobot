\section{Image\-Processing クラス}
\label{class_image_processing}\index{Image\-Processing@{Image\-Processing}}


画像処理用のクラス  




{\ttfamily \#include $<$Image\-Processing.\-hpp$>$}

\subsection*{公開メンバ関数}
\begin{DoxyCompactItemize}
\item 
{\bf Image\-Processing} ()
\begin{DoxyCompactList}\small\item\em コンストラクタ \end{DoxyCompactList}\item 
{\bf $\sim$\-Image\-Processing} ()
\begin{DoxyCompactList}\small\item\em デストラクタ \end{DoxyCompactList}\item 
void {\bf show\-Image} (string window\-Name, Mat \&input\-\_\-image)
\begin{DoxyCompactList}\small\item\em ウインドウの名前を引数に追加(c31)．\-Matの表示(c17) \end{DoxyCompactList}\item 
void {\bf show\-Image\-Together} (Mat \&image1, Mat \&image2)
\begin{DoxyCompactList}\small\item\em 2つの画像を一緒に表示(c36) \end{DoxyCompactList}\item 
void {\bf show\-Image\-Together} (Mat \&image1, Mat \&image2, Mat \&image3)
\begin{DoxyCompactList}\small\item\em 3つの画像を一緒に表示(c36) \end{DoxyCompactList}\item 
void {\bf load\-Internal\-Camera\-Parameter} (const string camera\-Param\-File)
\begin{DoxyCompactList}\small\item\em カメラキャリブレーションによって得られたパラメータを適用する(c54) \end{DoxyCompactList}\item 
Mat {\bf get\-Undistortion\-Image} (Mat \&input\-Original\-Image)
\begin{DoxyCompactList}\small\item\em キャリブレーションデータを用いて\-Kinectから取得した画像を補正する(c71) \end{DoxyCompactList}\item 
Mat {\bf get\-Background\-Substraction\-Bin\-Image} (Mat \&current\-\_\-image, Mat \&backgound\-\_\-gray\-\_\-image)
\begin{DoxyCompactList}\small\item\em 背景差分によって得られた二値画像(c75) \end{DoxyCompactList}\item 
void {\bf open\-C\-V\-Setting\-Trackbar} (const string trackbar\-\_\-name)
\begin{DoxyCompactList}\small\item\em 画像処理関連のトラックバーを表示するメソッド \end{DoxyCompactList}\item 
Mat {\bf get\-Unit\-Mask} (Mat \&input\-\_\-binimage)
\begin{DoxyCompactList}\small\item\em E\-V3のユニット部のみのマスク画像を取得するメソッド \end{DoxyCompactList}\item 
void {\bf output\-Image\-Select\-Directory} (int save\-\_\-count, char $\ast$original\-\_\-dirpath, char $\ast$save\-\_\-filename, Mat \&output\-\_\-image)
\begin{DoxyCompactList}\small\item\em メソッド\-Image\-Processing\-::output\-Image\-Select\-Directory()．出力したディレクトリにファイルを出力するメソッド \end{DoxyCompactList}\end{DoxyCompactItemize}
\subsection*{公開変数類}
\begin{DoxyCompactItemize}
\item 
int {\bf th}
\begin{DoxyCompactList}\small\item\em 二値化するときの閾値(c82) \end{DoxyCompactList}\item 
int {\bf neighborhood}
\begin{DoxyCompactList}\small\item\em 平滑化を行うときの近傍 \end{DoxyCompactList}\item 
int {\bf closing\-\_\-times}
\begin{DoxyCompactList}\small\item\em クロージングを行う回数 \end{DoxyCompactList}\end{DoxyCompactItemize}


\subsection{詳解}
画像処理用のクラス 

 Image\-Processing.\-hpp の 19 行目に定義があります。



\subsection{構築子と解体子}
\index{Image\-Processing@{Image\-Processing}!Image\-Processing@{Image\-Processing}}
\index{Image\-Processing@{Image\-Processing}!ImageProcessing@{Image\-Processing}}
\subsubsection[{Image\-Processing}]{\setlength{\rightskip}{0pt plus 5cm}Image\-Processing\-::\-Image\-Processing (
\begin{DoxyParamCaption}
{}
\end{DoxyParamCaption}
)}\label{class_image_processing_a0090ffe36a912d6df5d7a1f507f6252e}


コンストラクタ 

メソッド\-Image\-Processing\-::\-Image\-Processing().コンストラクタ 

 Image\-Processing.\-cpp の 15 行目に定義があります。



参照先 closing\-\_\-times, neighborhood, th.

\index{Image\-Processing@{Image\-Processing}!$\sim$\-Image\-Processing@{$\sim$\-Image\-Processing}}
\index{$\sim$\-Image\-Processing@{$\sim$\-Image\-Processing}!ImageProcessing@{Image\-Processing}}
\subsubsection[{$\sim$\-Image\-Processing}]{\setlength{\rightskip}{0pt plus 5cm}Image\-Processing\-::$\sim$\-Image\-Processing (
\begin{DoxyParamCaption}
{}
\end{DoxyParamCaption}
)}\label{class_image_processing_a1d4bd00ec1862112552c663034cebabc}


デストラクタ 

メソッド\-Image\-Processing\-::$\sim$\-Image\-Processing().デストラクタ 

 Image\-Processing.\-cpp の 26 行目に定義があります。



\subsection{関数詳解}
\index{Image\-Processing@{Image\-Processing}!get\-Background\-Substraction\-Bin\-Image@{get\-Background\-Substraction\-Bin\-Image}}
\index{get\-Background\-Substraction\-Bin\-Image@{get\-Background\-Substraction\-Bin\-Image}!ImageProcessing@{Image\-Processing}}
\subsubsection[{get\-Background\-Substraction\-Bin\-Image}]{\setlength{\rightskip}{0pt plus 5cm}Mat Image\-Processing\-::get\-Background\-Substraction\-Bin\-Image (
\begin{DoxyParamCaption}
\item[{Mat \&}]{current\-\_\-image, }
\item[{Mat \&}]{background\-\_\-gray\-\_\-image}
\end{DoxyParamCaption}
)}\label{class_image_processing_ae7dc0c506adedb62687e15f0a1b1c7f0}


背景差分によって得られた二値画像(c75) 

メソッド\-Image\-Processing\-::get\-Background\-Substraction\-Bin\-Image()．背景差分によって得られた二値画像(c75)


\begin{DoxyParams}{引数}
{\em \&current\-\_\-image} & cv\-::\-Mat型．現フレームの入力画像 \\
\hline
{\em \&background\-\_\-image} & cv\-::\-Mat型．背景画像の入力 \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{戻り値}
closing\-\_\-image cv\-::\-Mat型．出力画像 
\end{DoxyReturn}
$<$現在のグレースケール画像(c75)

$<$背景差分画像(c74)

$<$背景差分画像の二値画像(c75)

$<$背景差分画像の二値画像を平滑化したもの(c75)

$<$クロージング処理御用変数 

 Image\-Processing.\-cpp の 130 行目に定義があります。



参照先 closing\-\_\-times, neighborhood, th.



参照元 main().



被呼び出し関係図\-:\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=185pt]{class_image_processing_ae7dc0c506adedb62687e15f0a1b1c7f0_icgraph}
\end{center}
\end{figure}


\index{Image\-Processing@{Image\-Processing}!get\-Undistortion\-Image@{get\-Undistortion\-Image}}
\index{get\-Undistortion\-Image@{get\-Undistortion\-Image}!ImageProcessing@{Image\-Processing}}
\subsubsection[{get\-Undistortion\-Image}]{\setlength{\rightskip}{0pt plus 5cm}Mat Image\-Processing\-::get\-Undistortion\-Image (
\begin{DoxyParamCaption}
\item[{Mat \&}]{input\-Original\-Image}
\end{DoxyParamCaption}
)}\label{class_image_processing_a5fa5bf016a9d7f946919d0a34a47031c}


キャリブレーションデータを用いて\-Kinectから取得した画像を補正する(c71) 

メソッド\-Image\-Processing\-::get\-Undistortion\-Image()．キャリブレーションデータを用いて\-Kinectから取得した画像を補正する


\begin{DoxyParams}{引数}
{\em \&input\-Original\-Image} & cv\-::\-Mat型．キャリブレーションを行いたい入力画像 \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{戻り値}
undistortion\-Image cv\-::\-Mat型．キャリブレーション後の画像 
\end{DoxyReturn}


 Image\-Processing.\-cpp の 115 行目に定義があります。



参照元 main().



被呼び出し関係図\-:\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=184pt]{class_image_processing_a5fa5bf016a9d7f946919d0a34a47031c_icgraph}
\end{center}
\end{figure}


\index{Image\-Processing@{Image\-Processing}!get\-Unit\-Mask@{get\-Unit\-Mask}}
\index{get\-Unit\-Mask@{get\-Unit\-Mask}!ImageProcessing@{Image\-Processing}}
\subsubsection[{get\-Unit\-Mask}]{\setlength{\rightskip}{0pt plus 5cm}Mat Image\-Processing\-::get\-Unit\-Mask (
\begin{DoxyParamCaption}
\item[{Mat \&}]{input\-\_\-binimage}
\end{DoxyParamCaption}
)}\label{class_image_processing_a691c472c29caaab27924bd469a2ea1f1}


E\-V3のユニット部のみのマスク画像を取得するメソッド 

メソッド\-Image\-Processing\-::get\-Unit\-Mask()．\-E\-V3のユニット部のみのマスク画像を取得するメソッド


\begin{DoxyParams}{引数}
{\em \&input\-\_\-binimage} & cv\-::\-Mat型．入力画像(二値画像) \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{戻り値}
input\-\_\-binimage cv\-::\-Mat型．出力画像(マスク処理された二値画像) 
\end{DoxyReturn}


 Image\-Processing.\-cpp の 171 行目に定義があります。

\index{Image\-Processing@{Image\-Processing}!load\-Internal\-Camera\-Parameter@{load\-Internal\-Camera\-Parameter}}
\index{load\-Internal\-Camera\-Parameter@{load\-Internal\-Camera\-Parameter}!ImageProcessing@{Image\-Processing}}
\subsubsection[{load\-Internal\-Camera\-Parameter}]{\setlength{\rightskip}{0pt plus 5cm}void Image\-Processing\-::load\-Internal\-Camera\-Parameter (
\begin{DoxyParamCaption}
\item[{const string}]{camera\-Param\-File}
\end{DoxyParamCaption}
)}\label{class_image_processing_a58862a0cb31373a4d1a9d6a89fdd8e6c}


カメラキャリブレーションによって得られたパラメータを適用する(c54) 

Image\-Processing\-::load\-Internal\-Camera\-Param().カメラキャリブレーションによって得られたカメラパラメータを適用するメソッド(c54)


\begin{DoxyParams}{引数}
{\em camera\-Param\-File} & const string型．入力したいカメラパラメータのファイル名 \\
\hline
\end{DoxyParams}


 Image\-Processing.\-cpp の 98 行目に定義があります。



参照元 main().



被呼び出し関係図\-:\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=178pt]{class_image_processing_a58862a0cb31373a4d1a9d6a89fdd8e6c_icgraph}
\end{center}
\end{figure}


\index{Image\-Processing@{Image\-Processing}!open\-C\-V\-Setting\-Trackbar@{open\-C\-V\-Setting\-Trackbar}}
\index{open\-C\-V\-Setting\-Trackbar@{open\-C\-V\-Setting\-Trackbar}!ImageProcessing@{Image\-Processing}}
\subsubsection[{open\-C\-V\-Setting\-Trackbar}]{\setlength{\rightskip}{0pt plus 5cm}void Image\-Processing\-::open\-C\-V\-Setting\-Trackbar (
\begin{DoxyParamCaption}
\item[{const string}]{trackbar\-\_\-name}
\end{DoxyParamCaption}
)}\label{class_image_processing_a36d146288e958736fd803fde49c064af}


画像処理関連のトラックバーを表示するメソッド 

メソッド\-Image\-Processing\-::open\-C\-V\-Setting\-Trackbar()．\-Open\-C\-Vのトラックバーを表示するメソッド


\begin{DoxyParams}{引数}
{\em trackbar\-\_\-name} & const string型．\-Open\-C\-Vでマスク画像を設定するためのトラックバー名 \\
\hline
\end{DoxyParams}


 Image\-Processing.\-cpp の 156 行目に定義があります。



参照先 closing\-\_\-times, neighborhood, th.



参照元 main().



被呼び出し関係図\-:\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=183pt]{class_image_processing_a36d146288e958736fd803fde49c064af_icgraph}
\end{center}
\end{figure}


\index{Image\-Processing@{Image\-Processing}!output\-Image\-Select\-Directory@{output\-Image\-Select\-Directory}}
\index{output\-Image\-Select\-Directory@{output\-Image\-Select\-Directory}!ImageProcessing@{Image\-Processing}}
\subsubsection[{output\-Image\-Select\-Directory}]{\setlength{\rightskip}{0pt plus 5cm}void Image\-Processing\-::output\-Image\-Select\-Directory (
\begin{DoxyParamCaption}
\item[{int}]{save\-\_\-count, }
\item[{char $\ast$}]{original\-\_\-dirpath, }
\item[{char $\ast$}]{save\-\_\-filename, }
\item[{Mat \&}]{output\-\_\-image}
\end{DoxyParamCaption}
)}\label{class_image_processing_ac2a3a10ecc09a2be23b2cc673cee1e0c}


メソッド\-Image\-Processing\-::output\-Image\-Select\-Directory()．出力したディレクトリにファイルを出力するメソッド 


\begin{DoxyParams}{引数}
{\em save\-\_\-count} & int型．保存数のカウント \\
\hline
{\em original\-\_\-dirpath} & char$\ast$型．基となるディレクトリ名 \\
\hline
{\em save\-\_\-filename} & char$\ast$．出力するファイル名 \\
\hline
{\em \&output\-\_\-image} & cv\-::\-Mat型．出力する画像 \\
\hline
\end{DoxyParams}


 Image\-Processing.\-cpp の 266 行目に定義があります。



参照先 N\-O\-C.



参照元 main().



被呼び出し関係図\-:\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=179pt]{class_image_processing_ac2a3a10ecc09a2be23b2cc673cee1e0c_icgraph}
\end{center}
\end{figure}


\index{Image\-Processing@{Image\-Processing}!show\-Image@{show\-Image}}
\index{show\-Image@{show\-Image}!ImageProcessing@{Image\-Processing}}
\subsubsection[{show\-Image}]{\setlength{\rightskip}{0pt plus 5cm}void Image\-Processing\-::show\-Image (
\begin{DoxyParamCaption}
\item[{string}]{window\-Name, }
\item[{Mat \&}]{input\-\_\-image}
\end{DoxyParamCaption}
)}\label{class_image_processing_a77b6912e1d1182d29a7c8a8c639bb685}


ウインドウの名前を引数に追加(c31)．\-Matの表示(c17) 

メソッド\-Image\-Processing\-::show\-Image().cv\-::\-Matを表示


\begin{DoxyParams}{引数}
{\em window\-Name} & std\-::string型．表示するウインドウ名 \\
\hline
{\em \&input\-\_\-image} & cv\-::\-Mat型．入力画像 \\
\hline
\end{DoxyParams}


 Image\-Processing.\-cpp の 36 行目に定義があります。



参照元 main(), show\-Image\-Together().



被呼び出し関係図\-:\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=218pt]{class_image_processing_a77b6912e1d1182d29a7c8a8c639bb685_icgraph}
\end{center}
\end{figure}


\index{Image\-Processing@{Image\-Processing}!show\-Image\-Together@{show\-Image\-Together}}
\index{show\-Image\-Together@{show\-Image\-Together}!ImageProcessing@{Image\-Processing}}
\subsubsection[{show\-Image\-Together}]{\setlength{\rightskip}{0pt plus 5cm}void Image\-Processing\-::show\-Image\-Together (
\begin{DoxyParamCaption}
\item[{Mat \&}]{image1, }
\item[{Mat \&}]{image2}
\end{DoxyParamCaption}
)}\label{class_image_processing_aece5b6cebfe47d9f65ce589168686189}


2つの画像を一緒に表示(c36) 

メソッド\-Image\-Processing\-::show\-Together\-Image().2つのcv\-::\-Matを1つのウインドウに表示


\begin{DoxyParams}{引数}
{\em \&image1} & cv\-::\-Mat型．入力画像1 \\
\hline
{\em \&image2} & cv\-::\-Mat型．入力画像2 \\
\hline
\end{DoxyParams}


 Image\-Processing.\-cpp の 48 行目に定義があります。



参照先 show\-Image().



呼び出し関係図\-:\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=218pt]{class_image_processing_aece5b6cebfe47d9f65ce589168686189_cgraph}
\end{center}
\end{figure}


\index{Image\-Processing@{Image\-Processing}!show\-Image\-Together@{show\-Image\-Together}}
\index{show\-Image\-Together@{show\-Image\-Together}!ImageProcessing@{Image\-Processing}}
\subsubsection[{show\-Image\-Together}]{\setlength{\rightskip}{0pt plus 5cm}void Image\-Processing\-::show\-Image\-Together (
\begin{DoxyParamCaption}
\item[{Mat \&}]{image1, }
\item[{Mat \&}]{image2, }
\item[{Mat \&}]{image3}
\end{DoxyParamCaption}
)}\label{class_image_processing_a6651b85571d04f5f05d530a0c760f562}


3つの画像を一緒に表示(c36) 

メソッド\-Image\-Processing\-::show\-Together\-Image().3つのcv\-::\-Matを1つのウインドウに表示


\begin{DoxyParams}{引数}
{\em \&image1} & cv\-::\-Mat型．入力画像1 \\
\hline
{\em \&image2} & cv\-::\-Mat型．入力画像2 \\
\hline
{\em \&image3} & cv\-::\-Mat型．入力画像3 \\
\hline
\end{DoxyParams}


 Image\-Processing.\-cpp の 73 行目に定義があります。



参照先 show\-Image().



呼び出し関係図\-:\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=218pt]{class_image_processing_a6651b85571d04f5f05d530a0c760f562_cgraph}
\end{center}
\end{figure}




\subsection{メンバ詳解}
\index{Image\-Processing@{Image\-Processing}!closing\-\_\-times@{closing\-\_\-times}}
\index{closing\-\_\-times@{closing\-\_\-times}!ImageProcessing@{Image\-Processing}}
\subsubsection[{closing\-\_\-times}]{\setlength{\rightskip}{0pt plus 5cm}int Image\-Processing\-::closing\-\_\-times}\label{class_image_processing_ab2722ccf525edb1d42a45b7f6f530051}


クロージングを行う回数 



 Image\-Processing.\-hpp の 42 行目に定義があります。



参照元 get\-Background\-Substraction\-Bin\-Image(), Image\-Processing(), open\-C\-V\-Setting\-Trackbar().

\index{Image\-Processing@{Image\-Processing}!neighborhood@{neighborhood}}
\index{neighborhood@{neighborhood}!ImageProcessing@{Image\-Processing}}
\subsubsection[{neighborhood}]{\setlength{\rightskip}{0pt plus 5cm}int Image\-Processing\-::neighborhood}\label{class_image_processing_a4047a0099a07190f555c5c99d311ee42}


平滑化を行うときの近傍 



 Image\-Processing.\-hpp の 41 行目に定義があります。



参照元 get\-Background\-Substraction\-Bin\-Image(), Image\-Processing(), open\-C\-V\-Setting\-Trackbar().

\index{Image\-Processing@{Image\-Processing}!th@{th}}
\index{th@{th}!ImageProcessing@{Image\-Processing}}
\subsubsection[{th}]{\setlength{\rightskip}{0pt plus 5cm}int Image\-Processing\-::th}\label{class_image_processing_a3b07a07726eed8b5e1da00017713068d}


二値化するときの閾値(c82) 



 Image\-Processing.\-hpp の 40 行目に定義があります。



参照元 get\-Background\-Substraction\-Bin\-Image(), Image\-Processing(), open\-C\-V\-Setting\-Trackbar().



このクラス詳解は次のファイルから抽出されました\-:\begin{DoxyCompactItemize}
\item 
{\bf Image\-Processing.\-hpp}\item 
{\bf Image\-Processing.\-cpp}\end{DoxyCompactItemize}
